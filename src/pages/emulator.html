<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>l16-24 Emulator</title>
</head>
<body>
    <header>
        <h2>Logic 16-2</h2>
    </header>
    <main>
        <h1>l16-24 Emulator</h1>
        <div class="emulator-container">
            <section id="controller" class="emulator-section">
                <h2>Emulation Controller</h2>
                <button id="run-cycle-btn" class="emu_ctl_btn">
                    Run one cycle
                </button>
                <button id="run-program-btn" class="emu_ctl_btn">
                    Run program
                </button>
                <button id="stop-program-btn" class="emu_ctl_btn">
                    Stop program
                </button>
            </section>
            <section id="info" class="emulator-section">
                <h2>Emulation Information</h2>
                <p>Cycle count: <span id="cycle_count">0</span></p>
                <p>Program counter: <span id="pc">0</span></p>
                <p>Program duration: <span id="duration">0ms</span></p>
                <p>Connected I/O: <span id="io_count">0</span></p>
            </section>
            <section id="io" class="emulator-section">
                <h2>I/O Devices</h2>
                <div id="rom-control" class="io-device">
                    <h3>ROM</h3>
                    <p>Contains the boot system.</p>
                    <button id="load-rom-btn" class="btn">Load ROM</button>
                </div>
                <div id="disk-drive" class="io-device">
                    <h3>Disk Drive</h3>
                    <p>Status: <span id="disk_status">Idle</span></p>
                    <button id="load-disk-btn" class="btn">Load Disk Image</button>
                </div>
                <div id="floppy-drive" class="io-device">
                    <h3>Floppy Drive</h3>
                    <p>Status: <span id="floppy_status">Idle</span></p>
                    <button id="load-floppy-btn" class="btn">Load Floppy Image</button>
                </div>
            </section>
            <section id="screen-container" class="emulator-section">
                <h2>Emulator Screen</h2>
                <canvas id="emulator-screen" width="640" height="480"></canvas>
            </section>
            <section id="settings" class="emulator-section">
                <h2>Emulation Settings</h2>
                <div class="setting">
                    <label for="ram-slider">RAM Size: <span id="ram-value">8</span>MB</label>
                    <input type="range" id="ram-slider" min="4" max="16" step="4" value="8">
                </div>
                <div class="setting">
                    <label for="cpu-clock-slider">CPU Clock: <span id="cpu-clock-value">12</span>MHz</label>
                    <input type="range" id="cpu-clock-slider" min="4" max="24" step="1" value="12">
                </div>
            </section>
            <div style="display: flex; width: 100%; gap: 2rem;">
                <section id="registers" class="emulator-section" style="flex: 1;">
                    <h2>CPU Registers</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Register</th>
                                <th>Binary</th>
                                <th>Hex</th>
                                <th>Decimal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- r0 to r7 -->
                            <tr>
                                <td>r0</td>
                                <td><span id="reg-r0-bin">0</span></td>
                                <td><span id="reg-r0-hex">0</span></td>
                                <td><span id="reg-r0-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r1</td>
                                <td><span id="reg-r1-bin">0</span></td>
                                <td><span id="reg-r1-hex">0</span></td>
                                <td><span id="reg-r1-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r2</td>
                                <td><span id="reg-r2-bin">0</span></td>
                                <td><span id="reg-r2-hex">0</span></td>
                                <td><span id="reg-r2-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r3</td>
                                <td><span id="reg-r3-bin">0</span></td>
                                <td><span id="reg-r3-hex">0</span></td>
                                <td><span id="reg-r3-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r4</td>
                                <td><span id="reg-r4-bin">0</span></td>
                                <td><span id="reg-r4-hex">0</span></td>
                                <td><span id="reg-r4-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r5</td>
                                <td><span id="reg-r5-bin">0</span></td>
                                <td><span id="reg-r5-hex">0</span></td>
                                <td><span id="reg-r5-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r6</td>
                                <td><span id="reg-r6-bin">0</span></td>
                                <td><span id="reg-r6-hex">0</span></td>
                                <td><span id="reg-r6-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>r7</td>
                                <td><span id="reg-r7-bin">0</span></td>
                                <td><span id="reg-r7-hex">0</span></td>
                                <td><span id="reg-r7-dec">0</span></td>
                            </tr>
                            <!-- CP and SP -->
                            <tr>
                                <td>cp</td>
                                <td><span id="reg-cp-bin">0</span></td>
                                <td><span id="reg-cp-hex">0</span></td>
                                <td><span id="reg-cp-dec">0</span></td>
                            </tr>
                            <tr>
                                <td>sp</td>
                                <td><span id="reg-sp-bin">0</span></td>
                                <td><span id="reg-sp-hex">0</span></td>
                                <td><span id="reg-sp-dec">0</span></td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                <section id="cpu-flags" class="emulator-section" style="flex: 1;">
                    <h2>CPU Flags</h2>
                    <ul>
                        <li>
                            <span class="flag-name">Zero (Z)</span>
                            <span id="flag-z" class="flag-value">0</span>
                        </li>
                        <li>
                            <span class="flag-name">Carry (C)</span>
                            <span id="flag-c" class="flag-value">0</span>
                        </li>
                        <li>
                            <span class="flag-name">Negative (N)</span>
                            <span id="flag-n" class="flag-value">0</span>
                        </li>
                    </ul>
                </section>
            </div>
            <section id="memory-view" class="emulator-section">
                <h2>Memory View</h2>
                <div class="memory-controls">
                    <label for="mem-address">Address:</label>
                    <input type="text" id="mem-address" value="0x0000">
                    <button id="goto-mem-btn" class="btn">Go</button>
                </div>
                <div id="memory-hex-view" class="hex-view">
                    <table>
                        <thead>
                            <tr>
                                <th rowspan="2">Address</th>
                                <th colspan="3">Byte 1</th>
                                <th colspan="3">Byte 2</th>
                            </tr>
                            <tr>
                                <th>Binary</th>
                                <th>Hex</th>
                                <th>Decimal</th>
                                <th>Binary</th>
                                <th>Hex</th>
                                <th>Decimal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0x0000</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0002</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0004</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0006</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0008</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x000a</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x000c</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x000e</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0010</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0012</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0014</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0016</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x0018</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x001a</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x001c</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>0x001e</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                                <td>00000000</td>
                                <td>0x00</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="memory-pagination">
                    <button id="prev-page-btn" class="btn pagination-btn">Previous</button>
                    <button id="next-page-btn" class="btn pagination-btn">Next</button>
                </div>
            </section>
        </div>
    </main>
    <footer>
        <p>&copy; Logic 16-24 Limited - All rights reserved.</p>
    </footer>
    <script type="module" src="../emulator/index.ts"></script>
</body>
</html>